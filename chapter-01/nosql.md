# NoSQL 등장 배경
중앙 집약적인 모놀리틱 아키텍처에서 마이크로서비스 아키텍처로 변화하는 흐름에 따라 데이터 저장소 특징도 달라지고 있다.

---
## 모놀리틱 아키텍처
전통적인 소프트웨어 개발 모델, 전체 애플리케이션을 하나의 통합된 패키지로 개발/배포하는 방식이라 대규모 시스템으로 갈수록 취약해진다.


- 서비스 규모 확장 시 유지보수 복잡도 증가
- 일부 시스템 문제가 전체 장애로 전파
- 일부 모듈을 수정해도 전체 재빌드 재배포 필요
- 규모가 커질수록 빌드와 배포 시간 증가
- 작은 기능 변경에도 연계된 것들이 많아 어려움이 증폭
- 특정 파트, 특정 서비스만 확장하는 것 불가능


---
## 마이크로서비스 아키텍처
독립된 모듈을 조립해 하나의 서비스를 만드는 아키텍처이다.


- 업데이트, 테스트, 배포, 확장을 각 서비스별로 독립적으로 수행
- 새로운 기능 추가와 배포가 비교적 편리하고 자유로움
- 특정 파트, 특정 서비스만 골라서 확장 가능
- 서비스 간 독립성으로, 문제가 다른 서비스에 큰 영향을 주지 않는다(모놀리틱에 비해)


---
## 데이터 저장소 요구사항 변화
기존 모놀리틱 서비스에서 가장 많이 사용된 데이터베이스는 RDBMS이다. 관계형 데이터베이스는 고정된 스키마 구조를 가지고 있고, 각 테이블간 관계를 정확하게 규정한다.


그러나 최근 서비스에서는 정해진 형태가 없거나, 형태가 다양하고, 크기와 구조를 예측할 수 없는 비정형 데이터가 증가하고 있다.


아래와 같은 RDB의 한계점은 NoSQL의 필요성을 보여준다.


- 스키마가 정형적이지 않고, 유동적으로 바뀌는 경우
- 그래프화 된 자료 구조나 데이터는 RDB에 저장하기 어려움
- 쓰기 집약적인 서비스에서 RDB 대규모 쓰기 성능 이슈
- 테이블 구조, 관계, 스키마 변경 등이 어려움
    - 업계의 보수성과 마이그레이션 이슈 등 여러 요인으로 인함


따라서, 앞으로 개발할 마이크로서비스 특징에 맞는 저장소를 구성하는 것이 중요하다.


---
## NoSQL 이란?
No SQL or Not Only SQL으로, 관계형 데이터베이스에서 테이블 데이터 쿼리 언어인 SQL을 사용하지 않는 저장소를 말한다.

### 특징
- 실시간 응답: 메모리 기반의 NoSQL 저장소는 Disk IO가 일어나는 보통의 RDB보다 빠름
- 확장성: 예상치 못한 이벤트로 인한 트래픽, 트랜잭션 증가에 유연한 대처 가능
- 고가용성: 장애 상황에서 신속한 복구 가능
- 클라우드 네이티브: NoSQL 기반의 다양한 DBaaS로 복잡한 구축 없이 사용 가능
- 단순성: 세분화된 마이크로서비스에서 단순하고 간단하게 사용 가능
- 유연성: 다양한 종류의 데이터를 유연한 형식으로 저장 가능 (비정형 데이터 저장)


---
## NoSQL 저장소 유형
### 1. Graph
- 엔티티 사이의 관계를 효율적으로 저장하도록 설계됨
- node, edge, properties 등으로 데이터를 나타냄
- 시작 노드, 끝 노드, 유형과 방향, 상하 관계, 동작, 소유자 등의 정보를 저장
- 관계 기반으로 저장하고 표현하고 쿼리를 날릴 때 유용하나, 동반되는 속성의 크기가 크거나 개수가 많을 때는 부적합
- SNS 서비스, 유사 추천 기능 등에 활용 가능
- ex. Neo4j 등


### 2. Colunm
- 테이블을 row가 아니아 column 기준으로 저장
- 칼럼 지향적, 와이드 칼럼 유형으로 부르기도 함
- 기존 관계형 데이터베이스의 고정된 스키마와 비교하여 더 유연한 스키마 저장 가능
- 대량 데이터 집계 쿼리, 데이터 웨어하우스, 쓰기 집약적 구조에 잘 버티는 경우가 많음
- 분석, 보고, 빅데이터 처리에 적합한 편
- ex. Apache Cassandra, HBase 등


### 3. Document
- JSON 형태 기반으로 데이터를 저장하여 개발자들이 편하게 사용할 수 있는 구조
- 스키마 유연성이 크다(원하는 대로 문서 형태로 저장)
- 데이터를 저장하거나 검색하는 데에 효과적임
- ex. MongoDB, CouchDB, AWS DocumentDB 등


### 4. Key-Value
- KV 유형은 가장 단순하고 빠르며, 키를 기준으로 데이터를 저장하고 조회함
- Key 자체도 유의미한 데이터, 키를 사용해 다양한 연산 수행
- 실시간 서비스, 빠른 응답속도가 중요한 서비스에서 활용
- ex. Redis, AWS ElastiCache, AWS DynamoDB, Memcached, Oracle NoSQL Database 등